<?xml version="1.0"?>
<openerp>
    <data>
        <!--FollowUp Form-->
        <record id="crm_followup_form" model="ir.ui.view">
            <field name="name">op.follow.up.type</field>
            <field name="model">calendar.event</field>
            <field name="priority" eval="8" />
            <field name="arch" type="xml">
                <form string="Follow Up">
                    <sheet>
                        <field name="state" invisible="1"/>
                        <field name="is_attendee" invisible="1"/>
                        <field name="attendee_status" invisible="1"/>
                        <div class="oe_title">
                            <div class="oe_edit_only">
                                <label for="name" string="Follow-up Subject"/>
                            </div>
                            <h1>
                                <field name="name" />
                            </h1>
                            <div class="oe_edit_only">
                                <label for="type" string="Follow-up Type"/>
                            </div>
                            <h2>
                                <field name="type" />
                            </h2>
                            <label for="partner_ids" string="Attendees" class="oe_edit_only"/>
                            <h2>
                                <field name="partner_ids" widget="many2manyattendee"
                                       context="{'force_email':True}"
                                       on_change="onchange_partner_ids(partner_ids)"
                                       class="oe_inline"/>
                            </h2>
                        </div>
                        <notebook>
                            <page string="Meeting Details">
                                <group attrs="{'invisible': [('recurrency','==',False)]}" class="oe_edit_only ">
                                    <p class='alert alert-warning'> This event is linked to a recurrence...<br/>
                                        <button type="object" name="open_after_detach_event"  string="Update only this instance"  help="Click here to update only this instance and not all recurrences. " class="oe_link"/>
                                    </p>
                                </group>
                                <group>
                                    <group>
                                        <field name="start" attrs="{'invisible': True}"/>
                                        <field name="stop" attrs="{'invisible': True}"/>

                                        <field name="start_date" string="Starting at" on_change="onchange_dates('start', start_date, stop_date, allday, True)" attrs="{'invisible': [('allday','=',False)]}"/>
                                        <field name="stop_date" string="Ending at" on_change="onchange_dates('stop', start_date, stop_date, allday, True)" attrs="{'invisible': [('allday','=',False)]}"/>

                                        <field name="start_datetime" string="Starting at" on_change="onchange_dates('start', start_datetime, stop_datetime, allday, False)" attrs="{'invisible': [('allday','=',True)]}"/>
                                        <field name="stop_datetime" string="Ending at" on_change="onchange_dates('stop', start_datetime, stop_datetime, allday, False)" attrs="{'invisible': [('allday','=',True)]}"/>
                                        <label for="allday"/>
                                        <div>
                                            <field name="allday"  class="oe_inline" on_change="onchange_allday(start, stop, start_date, stop_date, start_datetime, stop_datetime, allday)"/>
                                        </div>
                                        <field name="duration" widget="float_time" class="oe_inline" attrs="{ 'invisible': True }"/>
                                    </group>
                                    <group>
                                        <field name="categ_ids" widget="many2many_tags" />
                                        <field name="alarm_ids" widget="many2many_tags" />
                                        <!--<field name="location" string="new one"/>-->
                                    </group>
                                </group>
                                <label for="description"/>
                                <field name="description"/>
                            </page>
                            <page string="Options">
                                <group>
                                    <group col="1">
                                        <group>
                                            <field name="recurrency"/>
                                        </group>
                                        <group attrs="{'invisible': [('recurrency','=',False)]}">
                                            <label for="interval"/>
                                            <div>
                                                <field name="interval" attrs="{'required': [('recurrency','==',True)]}" class="oe_inline"/>
                                                <field name="rrule_type" attrs="{'required': [('recurrency','==',True)]}" class="oe_inline"/>
                                            </div>
                                            <label string="Until" for="end_type"/>
                                            <div>
                                                <field name="end_type" attrs="{'required': [('recurrency','==',True)]}" class="oe_inline"/>
                                                <field name="count" attrs="{'invisible': [('end_type', '!=', 'count')], 'required': [('recurrency','==',True)]}" class="oe_inline"/>
                                                <field name="final_date" attrs="{'invisible': [('end_type', '!=', 'end_date')], 'required': [('end_type', '=', 'end_date')]}" class="oe_inline"/>
                                            </div>
                                            <label string="Select anytimes" attrs="{'invisible' :[('rrule_type','not in', ['weekly'])]}"/>
                                            <group col="2" colspan="1" name="anytimes" attrs="{'invisible' :[('rrule_type','not in', ['weekly'])]}" >
                                                <field name="mo" />
                                                <field name="tu" />
                                                <field name="we" />
                                                <field name="th" />
                                                <field name="fr" />
                                                <field name="sa" />
                                                <field name="su" />
                                            </group>

                                            <label string="Day of Month"
                                                   attrs="{'invisible': [('rrule_type','!=','monthly')]}"/>

                                            <div attrs="{'invisible': [('rrule_type','!=','monthly')]}">
                                                <field name="month_by"/>
                                                <field name="day"
                                                       attrs="{'required': [('month_by','=','date'), ('rrule_type','=','monthly')],
                                                    'invisible': [('month_by','=','day')]}"/>
                                                <field name="byday" string="The"
                                                       attrs="{'required': [('month_by','=','day'), ('rrule_type','=','monthly')], 'invisible': [('month_by','=','date')]}"/>
                                                <field name="week_list" nolabel="1"
                                                       attrs="{'required': [('month_by','=','day'), ('rrule_type','=','monthly')], 'invisible': [('month_by','=','date')]}"/>
                                            </div>
                                        </group>
                                    </group>
                                    <group>
                                        <field name="class"/>
                                        <field name="show_as"/>
                                        <field name="rrule" invisible="1" readonly="0" />
                                        <field name="recurrent_id" invisible="1" />
                                    </group>
                                </group>
                            </page>

                            <page string="Invitations" groups="base.group_no_one">
                                <button name="do_sendmail" type="object" string="Send mail" icon="terp-mail-message-new" class="oe_link"/>
                                <field name="attendee_ids" widget="one2many" >
                                    <tree string="Invitation details" editable="top" create="false" delete="false">
                                        <field name="partner_id" />
                                        <field name="state" />
                                        <field name="email" widget="email"/>

                                        <button name="do_tentative" states="needsAction,declined,accepted" string="Uncertain" type="object" icon="terp-crm" />
                                        <button name="do_accept" string="Accept" states="needsAction,tentative,declined" type="object" icon="gtk-apply"/>
                                        <button name="do_decline" string="Decline" states="needsAction,tentative,accepted" type="object" icon="gtk-cancel"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Misc" groups="base.group_no_one">
                                <label string="Owner"/>
                                <field name="user_id" />

                            </page>

                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread" />
                    </div>
                </form>
            </field>
        </record>

        <!--FollowUp Tree-->
        <record model="ir.ui.view" id="crm_followup_tree">
            <field name="name">crm.followup</field>
            <field name="model">calendar.event</field>
            <field name="arch" type="xml">
                <tree string="Follow Up" fonts="bold:message_unread==True">
                    <field name="name" string="Subject"/>
                    <field name="type" string="Type"/>
                    <field name="allday" invisible="True"/>
                    <field name="start_date" string="Date"/>
                    <field name="start_datetime" string="Date Time"/>
                    <field name="user_id"/>
                    <field name="location"/>
                    <field name="show_as"/>
                    <field name="class" string="Privacy"/>
                    <field name="state" invisible="True"/>
                    <field name="duration"/>
                    <field name="message_unread" invisible="1"/>
                </tree>
            </field>
        </record>

        <!--FollowUp_action-->
        <record id="action_crm_followup" model="ir.actions.act_window">
            <field name="name">Follow Up</field>
            <field name="res_model">calendar.event</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <!--<field name="context">{'default_opportunity_id': active_id,-->
            <!--'search_default_opportunity_id': active_id,}</field>-->
            <field name="view_id" ref="crm_followup_form"/>
        </record>

        <!--Time Frame Form-->
        <record id="time_frame_form" model="ir.ui.view">
            <field name="name">time.frame.form</field>
            <field name="model">op.time.frame</field>
            <field name="priority" eval="8" />
            <field name="arch" type="xml">
                <form string="Time Frames" version="7.0">
                    <sheet>
                        <separator string="Time Frames" colspan="4" />
                        <group col="4">
                            <field name="name" />
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!--Time Frame Tree-->
        <record id="time_frame_tree" model="ir.ui.view">
            <field name="name">time.frame.tree</field>
            <field name="model">op.time.frame</field>
            <field name="priority" eval="8"/>
            <field name="arch" type="xml">
                <tree string="Time Frames">
                    <field name="name"/>
                </tree>
            </field>
        </record>

        <!--Time_frame_action-->
        <record id="action_time_frame" model="ir.actions.act_window">
            <field name="name">Time Frame</field>
            <field name="res_model">op.time.frame</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="time_frame_tree"/>
        </record>

        <!--crm_lead_form_inherited-->
        <record id="crm_case_form_view_leads_extended" model="ir.ui.view">
            <field name="name">crm.lead.form.inherit</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="crm.crm_case_form_view_leads"/>
            <field name="arch" type="xml">
                <data>
                    <xpath expr="//div[@class='oe_title']" position="replace">
                        <div class="oe_title">
                            <label for="name" class="oe_edit_only"/>
                            <h1><field name="name" placeholder="Describe the lead..."/></h1>
                            <label for="modes" class="oe_edit_only"/>
                            <field name="modes"/>
                        </div>
                    </xpath>
                    <xpath expr="//field[@name='street']" position="replace">
                        <field name="address_line1" placeholder="Address line 1"/>
                    </xpath>
                    <xpath expr="//field[@name='street2']" position="replace">
                        <field name="address_line2" placeholder="Address line 2"/>
                    </xpath>
                    <xpath expr="//div[@class='address_format']" position="replace">
                        <div class="address_format">
                            <field name="town" placeholder="City" style="width: 50%%"/>
                            <field name="province" placeholder="Province" style="width: 50%%" />
                        </div>
                    </xpath>
                    <xpath expr="//field[@name='country_id']" position="replace">
                        <field name="nation" class="oe_no_button" placeholder="Country" style="width: 100%%" options='{"no_open": True}'/>
                    </xpath>
                    <xpath expr="//label[@for='contact_name']" position="replace">
                        <label for="first_name" string="Contact Name"/>
                    </xpath>
                    <xpath expr="//field[@name='contact_name']" position="replace">
                        <field name="first_name" placeholder="First name"/>
                        <field name="last_name" placeholder="Last name"/>
                    </xpath>
                    <xpath expr="//field[@name='partner_id']" position="replace">
                        <field name="partner_id" string="Customer"
                               on_change="on_change_partner_id(partner_id)"
                               options='{"create_name_field": "name"}'
                               context="{'default_name': first_name, 'default_street': address_line1, 'default_city': town, 'default_state_id': province, 'default_country_id': nation, 'default_function': function, 'default_phone': phone, 'default_mobile': mobile, 'default_fax': fax, 'default_email': email_from, 'default_user_id': user_id, 'default_section_id': section_id}"/>
                    </xpath>
                    <xpath  expr="//notebook" position="inside">
                        <page string="Study Programme(s) Info">
                            <separator colspan="4" string="Study Programme Details"/>
                            <!--<field name="is_new_sdy_pro"  on_change="onchange_new_course(is_new_sdy_pro)" class="oe_inline"/><label for="is_new_sdy_pro" string="Is a New Study Programme ?"/>-->
                            <group col="4" colspan="4">
                                <group>
                                    <field name="courses_interested"  widget="many2many_tags" options="{'no_create_edit':'1'}"/>
                                    <field name="tags" widget="many2many_tags" string="New Study Programme Tags"/>
                                </group>
                                <group>
                                    <field name="prospective_student" />
                                </group>
                            </group>
                            <page string="Suitable Time Frame">
                                <separator colspan="4" string="Suitable Time Frame"/>
                                <group col="4" colspan="4">
                                    <field name="anytime" widget="many2many_tags" options="{'no_create_edit':'1'}"/>
                                    <field name="morning" widget="many2many_tags" options="{'no_create_edit':'1'}"/>
                                    <field name="afternoon" widget="many2many_tags" options="{'no_create_edit':'1'}"/>
                                    <field name="evening" widget="many2many_tags" options="{'no_create_edit':'1'}"/>
                                </group>
                            </page>
                        </page>
                    </xpath>
                    <xpath  expr="//notebook/page[@string='Extra Info']" position="inside">
                        <separator string="Marketing"/>
                        <group>
                            <field name="campaign_id"/>
                            <field name="medium_id"/>
                            <field name="source_id"/>
                        </group>
                        <group>
                            <field name="inquiry_date"/>
                            <field name="date_open"/>
                            <field name="date_closed"/>
                        </group>
                    </xpath>
                    <xpath  expr="//div[@class='oe_right oe_button_box']" position="replace">
                        <div class="oe_right oe_button_box" name="buttons">
                            <button class="oe_inline oe_stat_button" type="action"
                                    context="{'partner_id': partner_id}"
                                    name="%(action_crm_followup)d" icon="fa-bell">
                                <!--<field string="Follow-up" name="meeting_count" widget="statinfo"/>-->
                                <field string="Follow-up" name="meeting_count" widget="statinfo"/>
                            </button>
                        </div>
                    </xpath>
                    <xpath  expr="//button[@name='%(crm.action_crm_lead2opportunity_partner)d']" position="replace">
                            <button name="%(crm.action_crm_lead2opportunity_partner)d" string="Convert to Opportunity" type="action" attrs="{'invisible':[('stage_id', '=', 2)]}"
                            help="Convert to Opportunity" class="oe_highlight"/>
                    </xpath>
                    <xpath  expr="//group[@string='Mailings']" position="attributes">
                        <attribute name="invisible">1</attribute>
                    </xpath>
                    <xpath  expr="//group[@string='Misc']" position="attributes">
                        <attribute name="invisible">1</attribute>
                    </xpath>
                    <xpath  expr="//group [@string='Categorization']" position="attributes">
                        <attribute name="invisible">1</attribute>
                    </xpath>
                    <field name="function" position="attributes">
                        <attribute name="invisible">1</attribute>
                    </field>
                    <field name="date_open" position="attributes">
                        <attribute name="invisible">1</attribute>
                    </field>
                    <field name="date_closed" position="attributes">
                        <attribute name="invisible">1</attribute>
                    </field>
                    <field name="partner_id" position="attributes">
                        <attribute name="invisible">1</attribute>
                    </field>
                    <field name="categ_ids" position="attributes">
                        <attribute name="invisible">1</attribute>
                    </field>
                </data>
            </field>
        </record>

        <!--study_programme_tags_form-->
        <record id="view_op_study_programme_tags_form" model="ir.ui.view">
            <field name="name">op.study.programme.tags.form</field>
            <field name="model">op.course.tags</field>
            <field name="arch" type="xml">
                <form string="Tags for New Study Programmes" version="7.0">
                    <sheet>
                        <separator string="Tags for New Study Programmes" colspan="4" />
                        <group>
                            <field name="id" invisible="1"/>
                            <field name="code" attrs="{'readonly': [('id', '!=', False)]}"/>
                            <field name="name"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!--study_programme_tags_tree-->
        <record id="view_op_study_programme_tags_tree" model="ir.ui.view">
            <field name="name">op.study.programme.tags.tree</field>
            <field name="model">op.course.tags</field>
            <field name="arch" type="xml">
                <tree string="Tags for New Study Programmes" version="7.0">
                    <field name="code"/>
                    <field name="name"/>
                </tree>
            </field>
        </record>

        <!--study_programme_tags_action-->
        <record model="ir.actions.act_window" id="act_open_op_study_programme_tags_view">
            <field name="name">Study Programme tags</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">op.course.tags</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[]</field>
            <field name="context">{}</field>
        </record>

        <!--lead_modes_form-->
        <record id="view_op_lead_modes_form" model="ir.ui.view">
            <field name="name">op.lead.modes.form</field>
            <field name="model">op.lead.modes</field>
            <field name="arch" type="xml">
                <form string="Mode of Inquiry" version="7.0">
                    <sheet>
                        <separator string="Mode of Inquiry" colspan="4" />
                        <group>
                            <field name="id" invisible="1"/>
                            <field name="code" attrs="{'readonly': [('id', '!=', False)]}"/>
                            <field name="name"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!--lead_modes_tree-->
        <record id="view_op_lead_modes_tree" model="ir.ui.view">
            <field name="name">op.lead.modes.tree</field>
            <field name="model">op.lead.modes</field>
            <field name="arch" type="xml">
                <tree string="Mode of Inquiry" version="7.0">
                    <field name="code"/>
                    <field name="name"/>
                </tree>
            </field>
        </record>

        <!--lead_modes_action-->
        <record model="ir.actions.act_window" id="act_open_op_lead_modes_view">
            <field name="name">Modes of Inquiry</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">op.lead.modes</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[]</field>
            <field name="context">{}</field>
        </record>

        <!--follow_up_types_form-->
        <record id="view_op_follow_up_types_form" model="ir.ui.view">
            <field name="name">op.follow.up.types.form</field>
            <field name="model">op.follow.up.type</field>
            <field name="arch" type="xml">
                <form string="Follow-up Types" version="7.0">
                    <sheet>
                        <separator string="Follow-up Types" colspan="4" />
                        <group>
                            <field name="id" invisible="1"/>
                            <field name="code" attrs="{'readonly': [('id', '!=', False)]}"/>
                            <field name="name"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!--follow_up_types_tree-->
        <record id="view_op_follow_up_types_tree" model="ir.ui.view">
            <field name="name">op.follow.up.types.tree</field>
            <field name="model">op.follow.up.type</field>
            <field name="arch" type="xml">
                <tree string="Follow-up Types" version="7.0">
                    <field name="code"/>
                    <field name="name"/>
                </tree>
            </field>
        </record>

        <!--follow_up_types_action-->
        <record model="ir.actions.act_window" id="act_open_op_follow_up_types_view">
            <field name="name">Followup Types</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">op.follow.up.type</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[]</field>
            <field name="context">{}</field>
        </record>

        <!--crm_lead_tree_inherited-->
        <record id="crm_case_tree_view_leads_extended" model="ir.ui.view">
            <field name="name">crm.lead.tree.inherit</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="crm.crm_case_tree_view_leads"/>
            <field name="arch" type="xml">
                <data>
                    <field name="create_date" position="attributes">
                        <attribute name="invisible">1</attribute>
                    </field>
                    <xpath  expr="//field[@name='contact_name']" position="replace">
                        <field name="first_name"/>
                        <field name="last_name"/>
                    </xpath>
                    <xpath  expr="//field[@name='country_id']" position="replace">
                        <field name="courses_interested"/>
                        <field name="morning"/>
                        <field name="afternoon"/>
                        <field name="evening"/>
                        <field name="anytime"/>
                    </xpath>
                    <xpath  expr="//field[@name='stage_id']" position="after">
                        <field name="meeting_count" sum="Sum Followups"/>
                    </xpath>
                </data>
            </field>
        </record>

        <!--crm_lead_graph_inherited-->
        <record model="ir.ui.view" id="crm_case_graph_view_leads_inherit">
            <field name="name">CRM - Leads Graph Inherit</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="crm.crm_case_graph_view_leads"/>
            <field name="arch" type="xml">
                <data>
                    <xpath  expr="//graph [@string='Opportunities']" position="replace">
                        <graph string="Opportunities" type="bar">
                            <field name="stage_id" type="row"/>
                        </graph>
                    </xpath>
                </data>
            </field>
        </record>

        <!--CRM Lead Kanban View Edit False-->
        <record model="ir.ui.view" id="crm_case_kanban_view_leads_inherit">
            <field name="name">CRM - Leads Kanban Inherit</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="crm.crm_case_kanban_view_leads"/>
            <field name="arch" type="xml">
                <kanban position="attributes">
                    <attribute name="edit">false</attribute>
                    <attribute name="create">false</attribute>
                </kanban>
            </field>
        </record>

        <!--CRM Lead Form View Edit False-->
        <record model="ir.ui.view" id="crm_case_form_view_leads_inherit">
            <field name="name">CRM - Leads Form Inherit</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="crm.crm_case_form_view_oppor"/>
            <field name="arch" type="xml">
                <form position="attributes">
                    <attribute name="create">false</attribute>
                </form>
            </field>
        </record>

        <!--CRM Lead Tree View Edit False-->
        <record model="ir.ui.view" id="crm_case_tree_view_leads_inherit">
            <field name="name">CRM - Leads Tree Inherit</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="crm.crm_case_tree_view_oppor"/>
            <field name="arch" type="xml">
                <tree position="attributes">
                    <attribute name="create">false</attribute>
                </tree>
            </field>
        </record>


        <!--opportunity_inherited_form-->
        <record id="crm_case_tree_view_oppor" model="ir.ui.view">
            <field name="name">crm.lead.oppor.form.inherit</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="crm.crm_case_form_view_oppor"/>
            <field name="arch" type="xml">
                <data>
                    <xpath  expr="//notebook/page[@string='Lead']" position="inside">
                        <page string="Course(s) Info">
                            <group>
                                <separator colspan="4" string="Study Programme Details"/>
                                <field name="courses_interested"  widget="many2many_tags" options="{'no_create_edit':'1'}"/>
                                <field name="tags" widget="many2many_tags" string="New Study Programme Tags"/>
                                <field name="prospective_student"/>
                            </group>
                            <page string="Suitable Time Frame">
                                <separator colspan="4" string="Suitable Time Frame"/>
                                <group col="4" colspan="4">
                                    <field name="anytime" widget="many2many_tags" options="{'no_create_edit':'1'}"/>
                                    <field name="morning" widget="many2many_tags" options="{'no_create_edit':'1'}"/>
                                    <field name="afternoon" widget="many2many_tags" options="{'no_create_edit':'1'}"/>
                                    <field name="evening" widget="many2many_tags" options="{'no_create_edit':'1'}"/>
                                </group>
                            </page>
                        </page>
                    </xpath>
                    <xpath  expr="//group[@string='Misc']" position="attributes">
                        <attribute name="invisible">1</attribute>
                    </xpath>
                    <xpath  expr="//group[@string='Mailings']" position="attributes">
                        <attribute name="invisible">1</attribute>
                    </xpath>
                    <xpath  expr="//group[@string='References']" position="attributes">
                        <attribute name="invisible">1</attribute>
                    </xpath>
                    <xpath  expr="//div[@class='oe_right oe_button_box']" position="replace">
                        <div class="oe_right oe_button_box" name="buttons">
                            <button class="oe_inline oe_stat_button" type="object" context="{'default_opportunity_id': active_id,
                        'search_default_opportunity_id': active_id, 'default_partner_id': partner_id, 'default_duration': 1.0}" name="action_schedule_meeting" icon="fa-bell">
                                <div>Schedule<br/>Follow-up</div>
                            </button>
                        </div>
                    </xpath>
                    <xpath  expr="//button[@class='oe_inline oe_stat_button']" position="replace">
                        <button class="oe_inline oe_stat_button" type="action"
                                context="{'partner_id': partner_id}"
                                name="%(action_crm_followup)d" icon="fa-bell">
                            <!--<field string="Follow-up" name="meeting_count" widget="statinfo"/>-->
                            <field string="Follow-up" name="meeting_count" widget="statinfo" icon="fa-bell"/>
                        </button>
                    </xpath>
                    <xpath expr="//field[@name='street']" position="replace">
                        <field name="address_line1" placeholder="Address line 1"/>
                    </xpath>
                    <xpath expr="//field[@name='street2']" position="replace">
                        <field name="address_line2" placeholder="Address line 2"/>
                    </xpath>
                    <xpath expr="//div[@class='address_format']" position="replace">
                        <div class="address_format">
                            <field name="town" placeholder="City" style="width: 50%%"/>
                            <field name="province"
                                   placeholder="Province" style="width: 50%%" />
                        </div>
                    </xpath>
                    <xpath expr="//field[@name='country_id']" position="replace">
                        <field name="nation" class="oe_no_button" placeholder="Country" style="width: 100%%" options='{"no_open": True}'/>
                    </xpath>
                    <xpath expr="//field[@name='contact_name']" position="replace">
                        <field name="first_name" placeholder="First name"/>
                        <field name="last_name" placeholder="Last name"/>
                    </xpath>
                    <xpath expr="//label[@for='contact_name']" position="replace">
                        <label for="first_name" string="Contact Name"/>
                    </xpath>
                    <xpath  expr="//label[@for='title_action']" position="replace">
                        <!--<attribute name="invisible">1</attribute>-->
                        <group >
                            <field name="date_deadline"/>
                            <field name="priority" widget="priority"/>
                        </group>
                    </xpath>
                    <xpath expr="//field[@name='fax']" position="after">
                        <field name="inquiry_date"/>
                    </xpath>
                    <xpath expr="//button[@name='case_mark_won']" position="replace">
                        <button name="case_mark_won" string="Mark Won" type="object" class="oe_highlight" attrs="{'invisible':[('stage_id', '=', 6)]}"/>
                    </xpath>
                    <field name="title_action" position="attributes">
                        <attribute name="invisible">1</attribute>
                    </field>
                    <field name="date_action" position="attributes">
                        <attribute name="invisible">1</attribute>
                    </field>
                    <field name="date_deadline" position="attributes">
                        <attribute name="invisible">1</attribute>
                    </field>
                    <field name="priority" position="attributes">
                        <attribute name="invisible">1</attribute>
                    </field>
                    <field name="categ_ids" position="attributes">
                        <attribute name="invisible">1</attribute>
                    </field>
                    <field name="function" position="attributes">
                        <attribute name="invisible">1</attribute>
                    </field>
                    <field name="partner_id" position="attributes">
                        <attribute name="invisible">1</attribute>
                    </field>
                    <field name="partner_name" position="attributes">
                        <attribute name="invisible">1</attribute>
                    </field>
                </data>
            </field>
        </record>
        
        <record id="calendar_event_view_inherit" model="ir.ui.view">
            <field name="name">calendar.event.view.inherit</field>
            <field name="model">calendar.event</field>

            <field name="inherit_id" ref="myschool.crm_followup_form"/>
            <field name="arch" type="xml">
                <data>
                    <xpath expr="//field[@name='start_date']" position="attributes">
                        <attribute name="string">Calculated Start</attribute>
                    </xpath>
                    <xpath expr="//field[@name='start_datetime']" position="attributes">
                        <attribute name="string">Calculated Start</attribute>
                    </xpath>
                    <xpath expr="//field[@name='stop_date']" position="attributes">
                        <attribute name="string">Calculated Stop</attribute>
                    </xpath>
                    <xpath expr="//field[@name='stop_datetime']" position="attributes">
                        <attribute name="string">Calculated Stop</attribute>
                    </xpath>
                    <xpath expr="//page[@string='Options']" position="attributes">
                        <attribute name="invisible">1</attribute>
                    </xpath>
                    <field name="categ_ids" position="attributes">
                        <attribute name="invisible">1</attribute>
                    </field>
                </data>
            </field>
        </record>


        <record id="crm_case_tree_view_oppor_inherit" model="ir.ui.view">
            <field name="name">crm.lead.oppor.tree.inherit</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="crm.crm_case_tree_view_oppor"/>
            <field name="arch" type="xml">
                <data>
                    <xpath expr="//field[@name='user_id']" position="after">
                        <field string="#Follow-ups" name="meeting_count" widget="statinfo" sum="Sum Expected"/>
                    </xpath>
                </data>
            </field>
        </record>

        <!--crm_traking_form_inherited -->
        <record id="view_crm_tracking_form_inherit" model="ir.ui.view">
            <field name="name">crm.tracking.form.inherit</field>
            <field name="model">crm.tracking.campaign</field>
            <field name="inherit_id" ref="crm.crm_tracking_campaign_form"/>
            <field name="arch" type="xml">
                <data>
                    <field name="section_id" position="after">
                        <field name="source_id"/>
                    </field>
                </data>
            </field>
        </record>


        <!--CRM Lead-Search Inherited-->
        <record id="inherited_lead_search_form_view" model="ir.ui.view">
            <field name="name">lead.search.form.inherit</field>
            <field name="model">crm.lead</field>
            <field name="type">search</field>
            <field name="inherit_id" ref="crm.view_crm_case_leads_filter"/>
            <field name="arch" type="xml">
                <xpath expr="//filter[@string='Unassigned']" position= 'replace'><!--need to find the x-path -->
                    <filter string="Unassign" name="new_filter" icon="terp-accessories-archiver-minus" domain="[NEW DOMAIN]"/>
                </xpath>
            </field>
        </record>

        <record id="crm.crm_normal_action_sell" model="ir.actions.act_window">
            <field name="name">Leads</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">crm.lead</field>
            <field name="view_mode">tree,form,kanban</field>
            <field name="view_type">form</field>
            <field name="context">{"search_default_new_filter":1}</field>
            <field name="view_id" ref="crm_case_tree_view_leads_extended"/>
            <field name="search_view_id" ref="crm.view_crm_case_leads_filter"/>
        </record>

        <!--crm_source_form_inherited -->
        <record id="view_crm_source_form_inherit" model="ir.ui.view">
            <field name="name">crm.source.form.inherit</field>
            <field name="model">crm.tracking.source</field>
            <field name="inherit_id" ref="crm.crm_tracking_source_view_form"/>
            <field name="arch" type="xml">
                <data>
                    <field name="name" position="after">
                        <field name="channel_id"/>
                    </field>
                </data>
            </field>
        </record>

        <!--crm_lead2opportunity_inherited-->
        <record id="view_crm_lead2opportunity_partner_inherit" model="ir.ui.view">
            <field name="name">view.crm.lead2opportunity.partner.inherit</field>
            <field name="model">crm.lead2opportunity.partner</field>
            <field name="inherit_id" ref="crm.view_crm_lead2opportunity_partner"/>
            <field name="arch" type="xml">
                <data>
                    <xpath  expr="//group[@name='action']" position="replace">
                        <group name="action" attrs="{'invisible': [('name', '!=', 'convert')]}">
                            <field name="action" on_change="onchange_action(action, context)" class="oe_inline"/>
                            <field name="partner_id"
                                   attrs="{'required': [('action', '=', 'exist')], 'invisible':[('action','!=','exist')]}"
                                   class="oe_inline" domain="[('is_student', '=', True)]"/>
                        </group>
                    </xpath>
                </data>
            </field>
        </record>

        <!--FollowUp_tree_window-->
        <record model="ir.actions.act_window.view" id="action_view_crm_followup_tree">
            <field name="act_window_id" ref="action_crm_followup"/>
            <field name="sequence" eval="2"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="crm_followup_tree"/>
        </record>

        <!--FollowUp_orm_window-->
        <record model="ir.actions.act_window.view" id="action_view_crm_followup_form">
            <field name="act_window_id" ref="action_crm_followup"/>
            <field name="sequence" eval="3"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="crm_followup_form"/>
        </record>

        <record id="action_download_csv" model="ir.actions.act_url">
            <field name="name">Download CSV</field>
            <field name="url">/myschool/static/files/csv_template.csv</field>
            <field name="target">new</field>
        </record>

        <!--menu_items-->
        <menuitem id="time_frame" name="Time Frames" parent="base.menu_base_config" action="action_time_frame"/>
        <menuitem id="lead_modes" name="Modes of Inquiry" parent="base.menu_base_config" action="act_open_op_lead_modes_view"/>
        <menuitem id="follow_up_types" name="Follow-up Types" parent="base.menu_base_config" action="act_open_op_follow_up_types_view"/>
        <!--<menuitem id="folow_up" name="Follow up" parent="base.menu_base_config" action="action_crm_followup"/>-->
        <menuitem id="download_csv" name="Download Template" parent="base.menu_sales" action="action_download_csv"/>
        <!--Delete source menu-item -->
        <!--<delete model="ir.ui.menu" id="crm.crm_case_tree_view_leads" />-->
        <delete model="ir.ui.menu" id="crm.crm_case_inbound_phone_tree_view"/>
    </data>
</openerp>
